# 선착순 주문 프로젝트
> 선착순 주문 프로젝트는 커머스 서비스에서 대규모의 사용자가 단기간 주문을 요청하는 상황을 가정하여 선착순으로 주문을 처리하는 프로젝트입니다.
마이크로 서비스 아키텍처를 활용해 유연한 확장과 유지보수가 가능합니다.

## 👷🏻 개발 기간 및 인원
- 개발 기간 : 2024.08.19 ~ 2024.09.19
- 인원 : 1인 (BE)

## ⚙️ 개발 환경
- Java 17
- SpringBoot
- MySQL
- Spring Security
- Spring Data JPA
- Spring Cloud Netflix Eureka Server, Cloud
- Spring Cloud Gateway
- Kafka
- Docker
- Redis (Redisson)
- Lombok
- QueryDSL
- Google SMTP
- Validation

## 🔧 아키텍쳐
![스크린샷 2024-09-19 오후 7 12 31](https://github.com/user-attachments/assets/e1f0c0ac-62db-4d39-b4cf-ea8dbc9bddbe)

## 🗃 ERD
![스크린샷 2024-09-19 오후 7 14 32](https://github.com/user-attachments/assets/04942557-b86d-4dc6-931b-4c9330866f75)

## ✨ 주요 기능
### 회원
- **회원가입**
    - [아이디, 이메일, 비밀번호, 전화번호, 이름, 우편번호, 주소]를 저장
    - 이메일로 인증 코드를 발송하여 이메일 유효성 확인
    - 개인정보 암호화
        - 비밀번호 - BCryptPasswordEncoder
        - 이외 개인정보 - AES256
- **로그인**
    - Spring Security를 활용한 인증, 인가
    - JWT를 사용하여 무상태성 유지

### 상품
- **상품 목록 조회**
    - [상품 아이디, 상품명, 가격, 대표 이미지] 목록을 조회
- **상품 상세 정보 조회**
    - [상품 아이디, 상품명, 가격, 설명, 상품 이미지 목록, 상품 옵션 목록]을 조회
- **상품 옵션 조회**
    - [옵션 아이템 아이디, 상품 옵션 아이디, 옵션명]을 조회
- **상품 재고 캐싱**
    - 상품 재고 조회 시, redis에 캐싱
    - 만료 기한을 3분으로 짧게 설정하여 실시간 재고에 가깝게 재고 수량 정보를 제공
    - 재고 변동 시, 캐싱된 재고 수량 또한 수정
- **상품 재고 임시 차감**
    - 사용자가 주문 화면으로 이동 시, 캐싱된 재고 수량을 차감하여 주문자에게 재고 보장

### 위시리스트
- **위시리스트 등록**
    - [옵션 아이템 아이디, 수량] 저장
- **위시리스트 조회**
    - [위시 아이디, 상품명, 수량, 상품 아이디, 대표 이미지, 가격, 옵션 아이디, 옵션명] 목록 조회
- **위시아이템 수량 변경**
    - 등록된 위시 아이템의 수량 변경
- **위시아이템 옵션 변경**
    - 등록된 위시 아이템의 옵션 변경

### 주문
- **주문 등록**
    - 주문 상품(옵션 아이템, 수량) 목록과 배송 정보(이름, 전화번호, 우편번호, 주소, 배송 메시지)를 저장
    - 재고 차감
- **주문 목록 조회**
    - [주문 아이디, 대표 상품명, 총 주문 수량, 총 주문 가격, 주문 상태, 주문 일시] 목록 조회
- **주문 조회**
    - [주문 아이템 아이디, 상품 아이디, 상품명, 대표 이미지, 주문 수량, 가격] 조회
- **주문 취소**
    - 주문 상태가 배송 전일 경우에 한해 주문 취소 처리
    - 재고 복구
- **반품 신청**
    - 주문 상태가 배송 완료이며, 반품 요청 가능 기간에 한해 반품 신청 처리
    - 재고 복구
